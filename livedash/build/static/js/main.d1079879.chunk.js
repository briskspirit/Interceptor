(this.webpackJsonplivedash=this.webpackJsonplivedash||[]).push([[0],{124:function(e,t,a){"use strict";a.r(t);var n=a(2),s=a(0),r=a.n(s),i=a(16),o=a.n(i),l=a(17),c=a(12),d=a(13),u=a(15),h=a(14),p=a(87),b=a.n(p),j=a(79),m=a(88),g=a.n(m),f=a(89),v=a.n(f)()(g.a),x=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={data:{},layout:{xaxis:{autorange:!0},yaxis:{autorange:!0,type:"linear"},showlegend:!0,legend:{x:0,y:1.4},width:700,height:450,margin:{l:50,r:5,b:30,t:0,pad:4},datarevision:0},frames:[],config:{displayModeBar:!0,displaylogo:!1},revision:0},n.responsiveChartRef=r.a.createRef(),n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.responsiveChartRef.current.getBoundingClientRect().width-5,a=this.responsiveChartRef.current.getBoundingClientRect().height;t!==this.state.layout.width&&this.setState({layout:Object(l.a)(Object(l.a)({},this.state.layout),{},{width:t,height:a})}),this.resizeListener=window.addEventListener("resize",(function(){if(e.responsiveChartRef.current){var t=e.responsiveChartRef.current.getBoundingClientRect().width-5,a=e.responsiveChartRef.current.getBoundingClientRect().height;t!==e.state.layout.width&&e.setState({layout:Object(l.a)(Object(l.a)({},e.state.layout),{},{width:t,height:a})})}}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resizeListener)}},{key:"render",value:function(){return Object(n.jsx)("div",{ref:this.responsiveChartRef,style:{height:"46vh"},children:Object(n.jsx)(v,{data:Object.values(this.props.lines),layout:Object(l.a)(Object(l.a)({},this.state.layout),this.props.event.layout),revision:this.props.event.revision,frames:[].concat(Object(j.a)(this.state.frames),Object(j.a)(this.props.event.frames)),config:Object(l.a)(Object(l.a)({},this.state.config),this.props.event.config)})})}}]),a}(s.Component),O=a(80),y={thermal:{freeSpace:.2097935676574707,batteryPercent:100,batteryStatus:"Charging",fanSpeed:10,started:!1,usbOnline:!1,startedTs:0,thermalStatus:"green",batteryCurrent:594631,batteryVoltage:4237493,chargingError:!1,chargingDisabled:!1,memUsedPercent:35,cpuPerc:20,networkType:"wifi",offroadPowerUsage:25131,networkStrength:"good",carBatteryCapacity:29755978,cpu:[45.400001525878906,44.79999923706055,43.5,43.79999923706055],gpu:[41.900001525878906],mem:44.5,bat:0,ambient:36},controlsState:{vEgo:0,vPid:.30000001192092896,vTargetLead:0,upAccelCmd:0,uiAccelCmd:0,jerkFactor:0,angleSteers:94.94609832763672,cumLagMs:-7.119385719299316,enabled:!1,steerOverride:!1,canMonoTimes:[],vCruise:255,rearViewCam:!1,alertText1:"CAN Error: Check Connections",alertText2:"",awarenessStatus:0,planMonoTime:0xd299244e294,angleSteersDes:0,longControlState:"off",state:"disabled",vEgoRaw:0,ufAccelCmd:0,aTarget:0,active:!1,curvature:.04042794927954674,alertStatus:"normal",alertSize:"small",gpsPlannerActive:!1,engageable:!1,alertBlinkingRate:0,driverMonitoringOn:!0,alertType:"canError/permanent",vCurvature:0,decelForTurn:!1,startMonoTime:0xd2afaf25439,mapValid:!1,pathPlanMonoTime:0xd2a83117550,forceDecel:!1,":lateralControlState.indiState.active":!1,":lateralControlState.indiState.steerAngle":94.94609832763672,":lateralControlState.indiState.steerRate":-30533325976085657e-29,":lateralControlState.indiState.steerAccel":-24426660780868525e-28,":lateralControlState.indiState.rateSetPoint":0,":lateralControlState.indiState.accelSetPoint":0,":lateralControlState.indiState.accelError":0,":lateralControlState.indiState.delayedOutput":0,":lateralControlState.indiState.delta":0,":lateralControlState.indiState.output":0,":lateralControlState.indiState.saturated":!1,decelForModel:!1,alertSound:"none",canErrorCounter:0},model:{frameId:343,":path.prob":1,":path.std":.05786691978573799,":path.poly":[-3279856173321605e-20,.001797072822228074,-.01207710336893797,.0085296630859375],":path.validLen":10,":leftLane.prob":.05707139894366264,":leftLane.std":.7359150648117065,":leftLane.poly":[17444684999645688e-21,-.0006862028385512531,-.0007475340971723199,1.3701171875],":leftLane.validLen":10,":rightLane.prob":.13420754671096802,":rightLane.std":.7422302961349487,":rightLane.poly":[-.00043971373816020787,.0035184614825993776,-.0013822192559018731,-1.5146484375],":rightLane.validLen":10,":lead.dist":7.265625,":lead.prob":.055310651659965515,":lead.std":4.922172546386719,":lead.relVel":.671875,":lead.relVelStd":1.0264359712600708,":lead.relY":-.662109375,":lead.relYStd":1.7541979551315308,":lead.relA":.304443359375,":lead.relAStd":.5471526980400085,":leadFuture.dist":7.265625,":leadFuture.prob":.010611421428620815,":leadFuture.std":4.922172546386719,":leadFuture.relVel":.671875,":leadFuture.relVelStd":1.0264359712600708,":leadFuture.relY":-.662109375,":leadFuture.relYStd":1.7541979551315308,":leadFuture.relA":.304443359375,":leadFuture.relAStd":.5471526980400085,timestampEof:0xd2a7f3bf3d8,":meta.engagedProb":.00010472556459717453,":meta.desirePrediction":[.8760396838188171,.043615445494651794,.033967744559049606,.011738939210772514,.020602479577064514,.004893518052995205,.009142294526100159,7491341590280472e-57,.8782839775085449,.05274505168199539,.03100721724331379,.011406918056309223,.014196137897670269,.005222467239946127,.0071382662281394005,20206723855563862e-58,.8650035262107849,.06168917939066887,.032507915049791336,.014652464538812637,.012730282731354237,.0067083872854709625,.0067083872854709625,3127305808802981e-54,.8451585173606873,.0672403946518898,.03831242397427559,.01987622305750847,.012833054177463055,.008548656478524208,.008030720055103302,4.61321467440373e-40],":meta.brakeDisengageProb":.012673735618591309,":meta.gasDisengageProb":.16926851868629456,":meta.steerOverrideProb":.3132096529006958,":meta.desireState":[.8809301257133484,.004713871516287327,.030026251450181007,.009596966207027435,.06873077899217606,.005958892405033112,4307541166781448e-20,7190031718878193e-29],frameAge:0,frameDropPerc:0,modelExecutionTime:.030757030472159386,gpuExecutionTime:0},health:{voltage:12087,current:0,ignitionLine:!1,controlsAllowed:!1,gasInterceptorDetected:!1,hasGps:!0,canSendErrs:2663915,canFwdErrs:0,gmlanSendErrs:0,hwType:"uno",fanSpeedRpm:375,usbPowerMode:"cdp",ignitionCan:!1,safetyModel:"noOutput",faultStatus:"none",powerSaveEnabled:!0,uptime:2419218,faults:[],canRxErrs:0},radarState:{":leadOne.dRel":0,":leadOne.yRel":0,":leadOne.vRel":0,":leadOne.aRel":0,":leadOne.vLead":0,":leadOne.dPath":0,":leadOne.vLat":0,":leadOne.vLeadK":0,":leadOne.aLeadK":0,":leadOne.fcw":!1,":leadOne.status":!1,":leadOne.aLeadTau":0,":leadOne.modelProb":0,":leadOne.radar":!1,":leadTwo.dRel":0,":leadTwo.yRel":0,":leadTwo.vRel":0,":leadTwo.aRel":0,":leadTwo.vLead":0,":leadTwo.dPath":0,":leadTwo.vLat":0,":leadTwo.vLeadK":0,":leadTwo.aLeadK":0,":leadTwo.fcw":!1,":leadTwo.status":!1,":leadTwo.aLeadTau":0,":leadTwo.modelProb":0,":leadTwo.radar":!1,cumLagMs:-40.058692932128906,mdMonoTime:0xd2991bbe7d8,canMonoTimes:[],controlsStateMonoTime:0xd2991b0f4b4,radarErrors:[]},liveCalibration:{calStatus:1,calCycle:0,calPerc:100,extrinsicMatrix:[.019966470077633858,-.9998006224632263,.00019015562429558486,0,.009523315355181694,-1.3552527156068805e-20,-.9999546408653259,1.2200000286102295,.999755322933197,.019967375323176384,.009521417319774628,0],rpyCalib:[-23826511096558534e-21,-.00952345971018076,.019968701526522636],rpyCalibSpread:[0,0,0],validBlocks:50},carState:{vEgo:0,":wheelSpeeds.fl":0,":wheelSpeeds.fr":0,":wheelSpeeds.rl":0,":wheelSpeeds.rr":0,gas:0,gasPressed:!1,brake:0,brakePressed:!1,steeringAngle:94.94609832763672,steeringTorque:-4,steeringPressed:!1,cruiseState:{enabled:!1,speed:0,available:!1,speedOffset:0,standstill:!1,nonAdaptive:!1},gearShifter:"park",steeringRate:0,aEgo:0,vEgoRaw:0,standstill:!0,brakeLights:!1,leftBlinker:!1,rightBlinker:!1,yawRate:0,genericToggle:!1,doorOpen:!1,seatbeltUnlatched:!1,canValid:!1,steeringTorqueEps:-42.5,clutchPressed:!1,steeringRateLimited:!1,stockAeb:!1,stockFcw:!1,espDisabled:!1,leftBlindspot:!1,rightBlindspot:!1,steerWarning:!1,steerError:!1},carControl:{enabled:!1,":cruiseControl.cancel":!1,":cruiseControl.override":!0,":cruiseControl.speedOverride":.30000001192092896,":cruiseControl.accelOverride":1,":hudControl.speedVisible":!1,":hudControl.setSpeed":70.83333587646484,":hudControl.lanesVisible":!1,":hudControl.leadVisible":!1,":hudControl.visualAlert":"none",":hudControl.audibleAlert":"none",":hudControl.rightLaneVisible":!1,":hudControl.leftLaneVisible":!1,":hudControl.rightLaneDepart":!1,":hudControl.leftLaneDepart":!1,":actuators.gas":0,":actuators.brake":0,":actuators.steer":0,":actuators.steerAngle":0,active:!1},plan:{vTarget:0,jerkFactor:0,hasLead:!1,fcw:!1,mdMonoTime:0xd2991bbe7d8,radarStateMonoTime:0xd29922451fd,vTargetFuture:11.54289436340332,longitudinalPlanSource:"cruise",vCruise:0,aCruise:0,aTarget:0,gpsPlannerActive:!1,vMax:0,vCurvature:0,decelForTurn:!1,mapValid:!1,vStart:0,aStart:0,radarValid:!0,processingDelay:.001614999957382679,radarCanError:!1,commIssue:!1},liveLocation:{status:0,lat:0,lon:0,alt:0,speed:0,roll:0,pitch:0,heading:0,wanderAngle:0,trackAngle:0,source:"applanix",fixMonoTime:0,gpsWeek:0,timeOfWeek:0,pitchCalibration:0,yawCalibration:0},liveMpc:{qpIterations:0,calculationTime:0,cost:0},liveLongitudinalMpc:{aLeadTau:0,qpIterations:0,mpcId:0,calculationTime:0,cost:0},driverState:{frameId:137,faceOrientation:[-.1421688199043274,.3909642696380615,.3198798596858978],facePosition:[.2132532298564911,.2132532298564911],faceProb:.9951817393302917,leftEyeProb:.9596395492553711,rightEyeProb:.888555109500885,leftBlinkProb:.03554220497608185,rightBlinkProb:.03554220497608185,faceOrientationStd:[.07202030718326569,.05659650266170502,.045972857624292374],facePositionStd:[.0191628560423851,.00792522169649601],sgProb:.0710844099521637,modelExecutionTime:.018670208752155304,dspExecutionTime:.012666874565184116},liveParameters:{valid:!0,gyroBias:0,angleOffset:.13531090319156647,angleOffsetAverage:.13531090319156647,stiffnessFactor:1,steerRatio:15.864039421081543,sensorValid:!0,yawRate:0,posenetSpeed:0,posenetValid:!0},cameraOdometry:{trans:[.0141754150390625,-.00048542022705078125,.002925872802734375],rot:[0,0,0],transStd:[.023609790951013565,.015066033229231834,.0341513529419899],rotStd:[.0007046477403491735,.0006267267162911594,.0007678816327825189],frameId:343,timestampEof:0xd2a7f3bf3d8},pathPlan:{laneWidth:2.799999952316284,dPoly:[-3279856173321605e-20,.001797072822228074,-.01207710336893797,.0085296630859375],cProb:0,lPoly:[17444684999645688e-21,-.0006862028385512531,-.0007475340971723199,1.430117130279541],lProb:.05707139894366264,rPoly:[-.00043971373816020787,.0035184614825993776,-.0013822192559018731,-1.454648494720459],rProb:.13420754671096802,angleSteers:94.94609832763672,mpcSolutionValid:!0,paramsValid:!0,angleOffset:.13531090319156647,rateSteers:0,sensorValid:!1,commIssue:!1,posenetValid:!1,desire:"none",laneChangeState:"off",laneChangeDirection:"none"},carParams:{carName:"toyota",carFingerprint:"TOYOTA COROLLA TSS2 2019",enableGasInterceptor:!1,enableCruise:!0,enableCamera:!0,enableDsu:!1,enableApgs:!1,minEnableSpeed:-1,minSteerSpeed:0,safetyModel:"toyota",safetyParam:50,steerMaxBP:[0],steerMaxV:[1],gasMaxBP:[0],gasMaxV:[.5],brakeMaxBP:[0],brakeMaxV:[1],mass:1523.9915771484375,wheelbase:2.6700000762939453,centerToFront:1.1748000383377075,steerRatio:15.329999923706055,steerRatioRear:0,rotationalInertia:2548.41552734375,tireStiffnessFront:186196.578125,tireStiffnessRear:231266.25,":longitudinalTuning.kpBP":[0,5,20],":longitudinalTuning.kpV":[1.2999999523162842,1,.699999988079071],":longitudinalTuning.kiBP":[0,5,12,20,27],":longitudinalTuning.kiV":[.3499999940395355,.23000000417232513,.20000000298023224,.17000000178813934,.10000000149011612],":longitudinalTuning.deadzoneBP":[0,8.050000190734863],":longitudinalTuning.deadzoneV":[0,.14000000059604645],":lateralTuning.indi.outerLoopGainBP":[18,22,26],":lateralTuning.indi.outerLoopGainV":[8,11,14.899999618530273],":lateralTuning.indi.innerLoopGainBP":[18,22,26],":lateralTuning.indi.innerLoopGainV":[9,12,15],":lateralTuning.indi.timeConstantBP":[18,22,26],":lateralTuning.indi.timeConstantV":[1,3,4.5],":lateralTuning.indi.actuatorEffectivenessBP":[18,22,26],":lateralTuning.indi.actuatorEffectivenessV":[9,12,15],steerLimitAlert:!1,vEgoStopping:0,directAccelControl:!1,stoppingControl:!1,startAccel:1.2000000476837158,steerRateCost:.5,steerControlType:"torque",radarOffCan:!1,steerActuatorDelay:.44999998807907104,openpilotLongitudinalControl:!0,carVin:"JTDS4MCE2MJ056503",isPandaBlack:!0,dashcamOnly:!1,safetyModelPassive:"silent",transmissionType:"unknown",radarTimeStep:.05000000074505806,communityFeature:!1,steerLimitTimer:.4000000059604645,fingerprintSource:"can",networkLocation:"fwdCamera",minSpeedCan:.30000001192092896,stoppingBrakeRate:.10000000149011612,startingBrakeRate:2},dMonitoringState:{events:[],faceDetected:!0,isDistracted:!1,awarenessStatus:1,isRHD:!1,posePitchOffset:0,posePitchValidCount:0,poseYawOffset:0,poseYawValidCount:0,stepChange:.00909090880304575,awarenessActive:1,awarenessPassive:1,isLowStd:!0,hiStdCount:0,isPreview:!1},testJoystick:{axes:[],buttons:[],enabled:!1,axesMode:[]}},_=a(174),S=a(151),w=a(81),k=a(152),C=a(171),P=a(154),T=a(155),M=a(156),L=a(149),z=a(178),R=a(90),E=a.n(R),D=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).selected={},s.renderButtons=function(){var e=[];return Object.entries(y).forEach((function(t){var a=Object(O.a)(t,2),r=a[0],i=a[1];if("object"===typeof i){var o=[];Object.entries(i).forEach((function(e){var t=Object(O.a)(e,2),a=t[0];"DEBUG"!==t[1]&&"logMonoTime"!==a&&o.push(Object(n.jsx)(L.a,{style:{textTransform:"none",borderRadius:"0",minWidth:"40ch",maxHeight:"20px"},value:a,"aria-label":a,children:a},a))})),e.push(Object(n.jsxs)(_.a,{children:[Object(n.jsx)(S.a,{expandIcon:Object(n.jsx)(E.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(n.jsx)(w.a,{variant:"body1",children:r})}),Object(n.jsx)(k.a,{style:{justifyContent:"center"},children:Object(n.jsx)(z.a,{orientation:"vertical",value:s.selected[r],onChange:function(e,t){s.selected[r]=t,s.setState({render_revision:s.state.render_revision+1})},"aria-label":"lines selected",children:o})})]},r))}})),e},s.state={render_revision:0},s}return Object(d.a)(a,[{key:"shouldComponentUpdate",value:function(e,t){return e.show!==this.props.show||t.render_revision!==this.state.render_revision}},{key:"render",value:function(){var e=this;return this.selected=this.props.prev_selection,Object(n.jsxs)(C.a,{open:this.props.show,"aria-labelledby":"form-dialog-title",children:[Object(n.jsx)(P.a,{children:this.renderButtons()}),Object(n.jsx)(T.a,{children:Object(n.jsx)(M.a,{onClick:function(){return e.props.setLogParams(e.selected)},color:"primary",children:"Save"})})]})}}]),a}(s.Component),A=a(157),H=a(158),F=a(159),I=a(176),B=a(175),J=a(160),V=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).plotname="",s.lines=[],s.renderButtons=function(){return s.props.lines_available.map((function(e){return Object(n.jsx)(L.a,{style:{textTransform:"none",borderRadius:"0",minWidth:"25ch",maxHeight:"20px"},value:e,"aria-label":e,children:e},e)}))},s.state={render_revision:0},s}return Object(d.a)(a,[{key:"shouldComponentUpdate",value:function(e,t){return e.show!==this.props.show||t.render_revision!==this.state.render_revision}},{key:"render",value:function(){var e=this;return Object(n.jsxs)(C.a,{open:this.props.show,"aria-labelledby":"form-dialog-title",children:[Object(n.jsx)(A.a,{id:"form-dialog-title",children:"Add Graph"}),Object(n.jsx)(P.a,{children:Object(n.jsxs)(H.a,{container:!0,spacing:2,direction:"column",alignItems:"center",children:[Object(n.jsx)(H.a,{item:!0,children:Object(n.jsxs)(F.a,{children:[Object(n.jsx)(I.a,{htmlFor:"plotname",children:"Plot Name"}),Object(n.jsx)(B.a,{id:"plotname",onChange:function(t){return e.plotname=t.target.value},"aria-describedby":"plotname-helper-text",inputProps:{"aria-label":"Plot Name"}}),Object(n.jsx)(J.a,{id:"plotname-helper-text",children:"Can be left empty"})]})}),Object(n.jsx)(H.a,{item:!0,children:Object(n.jsx)(z.a,{orientation:"vertical",value:this.lines,onChange:function(t,a){e.lines=a,e.setState({render_revision:e.state.render_revision+1})},"aria-label":"lines available",children:this.renderButtons()})})]})}),Object(n.jsx)(T.a,{children:Object(n.jsx)(M.a,{onClick:function(){return e.props.addplot(e.plotname,e.lines)},color:"primary",children:"Save"})})]})}}]),a}(s.Component),U=a(161),W=a(162),N=a(177),G=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={cols:0,rateHz:20,max_datapoints:100,webgl:!0},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.setState({cols:this.props.cols,rateHz:this.props.rateHz,max_datapoints:this.props.max_datapoints})}},{key:"shouldComponentUpdate",value:function(e,t){return e.show!==this.props.show||t!==this.state}},{key:"render",value:function(){var e=this;return Object(n.jsxs)(C.a,{open:this.props.show,"aria-labelledby":"form-dialog-title",children:[Object(n.jsx)(A.a,{id:"form-dialog-title",children:"Graphs settings"}),Object(n.jsx)(P.a,{children:Object(n.jsxs)(H.a,{container:!0,spacing:2,direction:"column",alignItems:"flex-start",children:[Object(n.jsx)(H.a,{item:!0,children:Object(n.jsxs)(F.a,{children:[Object(n.jsx)(I.a,{htmlFor:"cols",children:"Graph columns"}),Object(n.jsx)(B.a,{id:"cols",value:this.state.cols,onChange:function(t){return e.setState({cols:Math.min(Math.max(parseInt(t.target.value),1),12)})},"aria-describedby":"cols-helper-text",inputProps:{"aria-label":"Graph columns"}}),Object(n.jsx)(J.a,{id:"cols-helper-text",children:"Max: 12"})]})}),Object(n.jsx)(H.a,{item:!0,children:Object(n.jsxs)(F.a,{children:[Object(n.jsx)(I.a,{htmlFor:"rateHz",children:"Render rate"}),Object(n.jsx)(B.a,{id:"rateHz",value:this.state.rateHz,onChange:function(t){return e.setState({rateHz:Math.min(Math.max(parseInt(t.target.value),.5),20)})},endAdornment:Object(n.jsx)(U.a,{position:"end",children:"Hz"}),"aria-describedby":"rateHz-helper-text",inputProps:{"aria-label":"Render rate"}}),Object(n.jsx)(J.a,{id:"rateHz-helper-text",children:"Min: 0.5, Max: 20"})]})}),Object(n.jsx)(H.a,{item:!0,children:Object(n.jsxs)(F.a,{children:[Object(n.jsx)(I.a,{htmlFor:"max_datapoints",children:"Max data points"}),Object(n.jsx)(B.a,{id:"max_datapoints",value:this.state.max_datapoints,onChange:function(t){return e.setState({max_datapoints:Math.min(Math.max(parseInt(t.target.value),20),1e4)})},"aria-describedby":"max_datapoints-helper-text",inputProps:{"aria-label":"Max data points"}}),Object(n.jsx)(J.a,{id:"max_datapoints-helper-text",children:"Max: 10000"})]})}),Object(n.jsx)(H.a,{item:!0,children:Object(n.jsx)(W.a,{control:Object(n.jsx)(N.a,{checked:this.state.webgl,onChange:function(){return e.setState({webgl:!e.state.webgl})},name:"webGL"}),label:"WebGL support"})})]})}),Object(n.jsx)(T.a,{children:Object(n.jsx)(M.a,{onClick:function(){return e.props.setSettings(e.state.cols,e.state.rateHz,e.state.max_datapoints,e.state.webgl)},color:"primary",children:"Save"})})]})}}]),a}(s.Component),Y=a(5),q=a(179),K=a(180),X=a(173),Z=a(91),Q=a.n(Z),$=a(92),ee=a.n($),te=a(72),ae=a.n(te),ne=a(77),se=a.n(ne),re={x:[],y:[],type:"scattergl",name:"Line 1",mode:"lines",connectgaps:!1},ie={layout:{title:"debug_filler",datarevision:0},frames:[],config:{},revision:0,lines_attach:[]},oe=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).actions=[{icon:Object(n.jsx)(Q.a,{}),name:"Add Signals",handler:function(){s.setState({show_addlines:!0})}},{icon:Object(n.jsx)(ee.a,{}),name:"Add Graph",handler:function(){s.setState({show_addgraph:!0})}},{icon:Object(n.jsx)(ae.a,{}),name:"Settings",handler:function(){s.setState({show_settings:!0})}},{icon:Object(n.jsx)(se.a,{}),name:"DelPlots",handler:function(){s.plots={}}},{icon:Object(n.jsx)(se.a,{}),name:"ClearLines",handler:function(){s.lines={},s.selected={}}}],s.plots={},s.lines={},s.selected={},s.ws_status="",s.renderDelay=function(){clearInterval(s.render_delay),s.setState({render_revision:s.state.render_revision+1}),s.render_delay=setInterval(s.renderDelay,1e3/s.state.rateHz)},s.messageProcess=function(e){Object.keys(s.selected).forEach((function(t){s.selected[t].forEach((function(a){if(e[t]){var n=Math.round(e[t].logMonoTime/1e6)/1e3,r=null;if(a.startsWith(":")){var i=a.slice(1);r=b.a.get(e[t],i,null)}else r=e[t][a];var o=t+":"+a;Array.isArray(r)?r.forEach((function(e,t){"boolean"===typeof e&&(e+=0),"number"!==typeof e&&(e=null),s.addUpdateLines(o+t,n,e,s.state.max_datapoints)})):("boolean"===typeof r&&(r+=0),"number"!==typeof r&&(r=null),s.addUpdateLines(a,n,r,s.state.max_datapoints))}}))}))},s.addUpdateLines=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;if(!s.lines[e]){var r=JSON.parse(JSON.stringify(re));r.type=s.state.webgl?"scattergl":"scatter",r.name=e,s.lines[e]=r}s.lines[e].x.slice(-1)[0]>=t||(s.setState({global_data_revision:s.state.global_data_revision+1}),s.lines[e].x.push(t),s.lines[e].y.push(a),s.lines[e].x.length>n&&0!==n&&(s.lines[e].x.shift(),s.lines[e].y.shift()))},s.addUpdatePlots=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(0===e.length&&(e=(Math.random()+1).toString(36).substring(7)),!s.plots[e]&&t.length>0){var a=JSON.parse(JSON.stringify(ie));a.layout.title=e,a.lines_attach=t,s.plots[e]=a}t.length>0&&(s.plots[e].lines_attach=t),s.plots[e]&&(s.plots[e].revision+=1,s.plots[e].layout.datarevision=s.plots[e].revision+1)},s.renderReadyPlots=function(){var e=[];return Object.keys(s.plots).forEach((function(t){if(s.plots[t].lines_attach.length){var a={};Object.values(s.plots[t].lines_attach).forEach((function(e){s.lines[e]&&(a[e]=s.lines[e])})),s.addUpdatePlots(t),e.push(Object(n.jsx)(H.a,{item:!0,xs:12,md:12/s.state.layout_cols,children:Object(n.jsx)(x,{event:s.plots[t],lines:a})},t))}})),e},s.state={show_addlines:!1,show_addgraph:!1,show_settings:!1,show_joystick:!1,layout_cols:2,rateHz:10,max_datapoints:100,webgl:!0,speeddial:!1,render_revision:0,global_data_revision:0},s.wshelper=r.a.createRef(),s}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.render_delay=setInterval(this.renderDelay,1e3/this.state.rateHz)}},{key:"componentWillUnmount",value:function(){clearInterval(this.render_delay)}},{key:"shouldComponentUpdate",value:function(e,t){return t.render_revision!==this.state.render_revision}},{key:"render",value:function(){var e=this,t=this.props.classes;return Object(n.jsxs)(s.Fragment,{children:[Object(n.jsx)(H.a,{container:!0,direction:"row",spacing:0,justify:"flex-start",alignItems:"flex-start",children:this.renderReadyPlots()}),this.state.show_addlines?Object(n.jsx)(D,{setLogParams:function(t){e.setState({show_addlines:!1}),e.selected=t},show:this.state.show_addlines,prev_selection:this.selected}):null,this.state.show_addgraph?Object(n.jsx)(V,{addplot:function(t,a){return e.setState({show_addgraph:!1},e.addUpdatePlots(t,a))},show:this.state.show_addgraph,lines_available:Object.keys(this.lines)}):null,this.state.show_settings?Object(n.jsx)(G,{setSettings:function(t,a,n,s){return e.setState({show_settings:!1,layout_cols:t,rateHz:a,max_datapoints:n,webgl:s})},show:this.state.show_settings,cols:this.state.layout_cols,rateHz:this.state.rateHz,max_datapoints:this.state.max_datapoints,webgl:this.state.webgl}):null,Object(n.jsx)(q.a,{ariaLabel:"SpeedDial tooltip example",className:t.speedDial,icon:Object(n.jsx)(K.a,{}),FabProps:{size:"small",color:"secondary"},onClick:function(){return e.setState({speeddial:!e.state.speeddial})},open:this.state.speeddial,children:this.actions.map((function(e){return Object(n.jsx)(X.a,{icon:e.icon,tooltipTitle:e.name,tooltipOpen:!0,onClick:e.handler},e.name)}))})]})}}]),a}(s.Component),le=Object(Y.a)((function(e){return{speedDial:{position:"fixed",bottom:e.spacing(1),right:e.spacing(1)},mainDiv:{flexGrow:1}}}))(oe),ce=a(78),de=a.n(ce),ue=a(95),he=a.n(ue),pe=a(94),be=a.n(pe),je=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).joystick_msg={testJoystick:{axes:[0,0,0,0],buttons:[],enabled:!0,axesMode:["interceptor","interceptor","interceptor","interceptor"]}},n.joy_finetune={axes_scale:[[1,1],[1,1],[1,1],[1,1]],axes_deadzone:[.01,.01,.01,.01]},n.last_timestamp=0,n.data_revision=0,n.renderDelay=function(){clearInterval(n.render_delay),n.state.enabled&&n.props.procData(n.joystick_msg),n.state.revision!==n.data_revision&&n.setState({revision:n.data_revision}),n.render_delay=setInterval(n.renderDelay,1e3/n.state.rateHz)},n.resetMessage=function(){n.joystick_msg.testJoystick.enabled=n.state.enabled,n.state.enabled||n.props.procData(n.joystick_msg)},n.readJoystick=function(){var e=navigator.getGamepads();Object.values(e).forEach((function(e){if(e&&e.timestamp!==n.last_timestamp&&!e.id.startsWith("Surface")){e.axes.forEach((function(e,t){var a=e,s=n.joy_finetune.axes_deadzone[t],r=n.joy_finetune.axes_scale[t][0],i=n.joy_finetune.axes_scale[t][1];-s<a&&a<s&&(a=0),a*=a<0?r:i,n.joystick_msg.testJoystick.axes[t]=a}));var t=[];Object.values(e.buttons).forEach((function(e){t.push(e.pressed)})),n.joystick_msg.testJoystick.buttons=t,n.data_revision+=1,n.last_timestamp=e.timestamp}}))},n.returnNormalized=function(e,t){if(0===t)return n.joystick_msg.testJoystick.axes[e]=0,n.joystick_msg.testJoystick.axes[e+1]=0,void(n.data_revision+=1);var a=t.instance.options.size/2,s=(t.position.x-t.instance.position.x)/a*!t.lockX,r=(t.position.y-t.instance.position.y)/a*!t.lockY,i=n.joy_finetune.axes_scale;s*=s<0?i[e][0]:i[e][1],r*=r<0?i[e+1][0]:i[e+1][1],n.joystick_msg.testJoystick.axes[e]=s,n.joystick_msg.testJoystick.axes[e+1]=r,n.data_revision+=1},n.state={restJoystick_0:!0,restJoystick_1:!0,rateHz:10,revision:0,speeddial:!1,enabled:!1},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.render_delay=setInterval(this.renderDelay,1e3/this.state.rateHz),this.checkJoy=setInterval(this.readJoystick,50)}},{key:"componentWillUnmount",value:function(){clearInterval(this.render_delay),clearInterval(this.checkJoy)}},{key:"shouldComponentUpdate",value:function(e,t){return t.revision!==this.state.revision||t.speeddial!==this.state.speeddial}},{key:"render",value:function(){var e=this,t=this.props.classes;return Object(n.jsxs)(s.Fragment,{children:[Object(n.jsxs)(H.a,{className:t.joystick,container:!0,spacing:0,direction:"row",justify:"center",alignItems:"center",children:[Object(n.jsxs)(H.a,{item:!0,xs:6,align:"center",children:["X:",this.joystick_msg.testJoystick.axes[0].toFixed(3),"/Y:",this.joystick_msg.testJoystick.axes[1].toFixed(3),Object(n.jsx)("div",{children:Object(n.jsx)(de.a,{options:{mode:"dynamic",position:{top:"50%",left:"50%"},color:"red",size:200,dynamicPage:!0,lockY:!1,restJoystick:this.state.restJoystick_0,threshold:.06},style:{outline:"1px dashed grey",height:"75vh",position:"relative"},onMove:function(t,a){return e.returnNormalized(0,a)},onEnd:function(){e.state.restJoystick_0&&e.returnNormalized(0,0)}})})]}),Object(n.jsxs)(H.a,{item:!0,xs:6,align:"center",children:["X:",this.joystick_msg.testJoystick.axes[2].toFixed(3),"/Y:",this.joystick_msg.testJoystick.axes[3].toFixed(3),Object(n.jsx)("div",{children:Object(n.jsx)(de.a,{options:{mode:"dynamic",position:{top:"50%",left:"50%"},color:"red",size:200,dynamicPage:!0,lockX:!1,restJoystick:this.state.restJoystick_1,threshold:.06},style:{outline:"1px dashed grey",height:"75vh",position:"relative"},onMove:function(t,a){return e.returnNormalized(2,a)},onEnd:function(){e.state.restJoystick_1&&e.returnNormalized(2,0)}})})]})]}),Object(n.jsx)(q.a,{ariaLabel:"SpeedDial tooltip example",className:t.speedDial,icon:Object(n.jsx)(K.a,{}),FabProps:{size:"small",color:"secondary"},onClick:function(){return e.setState({speeddial:!e.state.speeddial})},open:this.state.speeddial,children:Object(n.jsx)(X.a,{icon:this.state.enabled?Object(n.jsx)(be.a,{}):Object(n.jsx)(he.a,{}),tooltipTitle:this.state.enabled?"Disable":"Enable",tooltipOpen:!0,onClick:function(){return e.setState({enabled:!e.state.enabled},e.resetMessage)}})})]})}}]),a}(s.Component),me=Object(Y.a)((function(e){return{joystick:{height:"80vh"},speedDial:{position:"fixed",bottom:e.spacing(1),right:e.spacing(1)}}}))(je),ge=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return Object(n.jsx)("div",Object(l.a)(Object(l.a)({role:"tabpanel",hidden:this.props.value!==this.props.index,id:"plugin-tabpanel-".concat(this.props.index),"aria-labelledby":"plugin-tab-".concat(this.props.index)},this.props),{},{children:this.props.children}))}}]),a}(s.Component),fe=a(61),ve=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).timeout=250,n.connect=function(){var e=new WebSocket(n.props.ws_url);n.props.status("connecting");var t,a=Object(fe.a)(n);e.onopen=function(){n.setState({ws:e}),n.props.status("connected"),a.timeout=250,clearTimeout(t)},e.onclose=function(e){console.log("Socket is closed. Reconnect will be attempted in ".concat(Math.min(10,2*a.timeout/1e3)," second."),e.reason),n.props.status("closed"),a.timeout=2*a.timeout,t=setTimeout(n.checkSocketConnection,Math.min(1e4,a.timeout))},e.onerror=function(t){console.error("Socket encountered error: ",t.message,"Closing socket"),n.props.status("error"),e.close()},e.onmessage=function(e){n.props.messageProcess(JSON.parse(e.data))}},n.sendMessage=function(e){var t=n.state.ws;t&&t.readyState!==WebSocket.CLOSED&&t.send(JSON.stringify(e))},n.checkSocketConnection=function(){var e=n.state.ws;e&&e.readyState!==WebSocket.CLOSED||n.connect(n.props.ws_url)},n.state={ws:null},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.connect(),this.keep_alive=setInterval((function(){e.sendMessage({keepAlive:{}})}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.keep_alive),this.setState({ws:null})}},{key:"shouldComponentUpdate",value:function(e){return e.ws_url!==this.props.ws_url}},{key:"render",value:function(){return null}}]),a}(s.Component),xe=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={ws_url:"ws://",rateHz:20,dark_theme:!1},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.setState({ws_url:this.props.ws_url,rateHz:this.props.rateHz,dark_theme:this.props.dark_theme})}},{key:"shouldComponentUpdate",value:function(e,t){return e.show!==this.props.show||t!==this.state}},{key:"render",value:function(){var e=this;return Object(n.jsxs)(C.a,{open:this.props.show,"aria-labelledby":"form-dialog-title",children:[Object(n.jsx)(A.a,{id:"form-dialog-title",children:"Main settings"}),Object(n.jsx)(P.a,{children:Object(n.jsxs)(H.a,{container:!0,spacing:2,direction:"column",alignItems:"flex-start",children:[Object(n.jsx)(H.a,{item:!0,children:Object(n.jsxs)(F.a,{children:[Object(n.jsx)(I.a,{htmlFor:"ws_url",children:"WebSocket URL"}),Object(n.jsx)(B.a,{id:"ws_url",value:this.state.ws_url,onChange:function(t){return e.setState({ws_url:t.target.value})},"aria-describedby":"ws_url-helper-text",inputProps:{"aria-label":"WebSocket URL"}}),Object(n.jsx)(J.a,{id:"ws_url-helper-text",children:"Tethered WiFi ws://192.168.43.1:4545"})]})}),Object(n.jsx)(H.a,{item:!0,children:Object(n.jsxs)(F.a,{children:[Object(n.jsx)(I.a,{htmlFor:"rateHz",children:"Render rate"}),Object(n.jsx)(B.a,{id:"rateHz",value:this.state.rateHz,onChange:function(t){return e.setState({rateHz:Math.min(Math.max(parseInt(t.target.value),.5),20)})},endAdornment:Object(n.jsx)(U.a,{position:"end",children:"Hz"}),"aria-describedby":"rateHz-helper-text",inputProps:{"aria-label":"Render rate"}}),Object(n.jsx)(J.a,{id:"rateHz-helper-text",children:"Min: 0.5, Max: 20"})]})}),Object(n.jsx)(H.a,{item:!0,children:Object(n.jsx)(W.a,{control:Object(n.jsx)(N.a,{disabled:!0,checked:this.state.dark_theme,onChange:function(){return e.setState({dark_theme:!e.state.dark_theme})},name:"dark_theme"}),label:"Dark theme"})})]})}),Object(n.jsx)(T.a,{children:Object(n.jsx)(M.a,{onClick:function(){return e.props.setSettings(e.state.ws_url,e.state.rateHz,e.state.dark_theme)},color:"primary",children:"Save"})})]})}}]),a}(s.Component),Oe=a(165),ye=a(166),_e=a(172),Se=a(167),we=a(170),ke=a(168),Ce=a(99),Pe=a.n(Ce),Te=a(100),Me=a.n(Te),Le=a(127),ze=a(97),Re=a.n(ze),Ee=a(96),De=a.n(Ee),Ae=a(98),He=a.n(Ae),Fe=a(164),Ie=a(101),Be=Object(Ie.a)({palette:{type:"light"},typography:{fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontSize:14,fontWeightLight:300,fontWeightRegular:400,fontWeightMedium:500}}),Je=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).ws_status="",s.sent_count=0,s.received_count=0,s.renderDelay=function(){clearInterval(s.render_delay),s.setState({render_revision:s.state.render_revision+1}),s.render_delay=setInterval(s.renderDelay,1e3/s.state.rateHz)},s.messageProcess=function(e){s.received_count>9999&&(s.received_count=0),s.received_count+=1,s.pushgraphdata.current&&s.pushgraphdata.current.messageProcess(e)},s.sendWSmsg=function(e){s.sent_count>9999&&(s.sent_count=0),s.sent_count+=1,s.wshelper.current.sendMessage(e)},s.connectionStatus=function(){return"connected"===s.ws_status?Object(n.jsx)(De.a,{}):"connecting"===s.ws_status?Object(n.jsx)(Re.a,{}):Object(n.jsx)(He.a,{})},s.a11yProps=function(e){return{id:"plugin-tab-".concat(e),"aria-controls":"plugin-tabpanel-".concat(e)}},s.state={selectedTab:1,show_mainsettings:!1,ws_url:"ws://192.168.43.1:4545",rateHz:20,render_revision:0},s.wshelper=r.a.createRef(),s.pushgraphdata=r.a.createRef(),s}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.render_delay=setInterval(this.renderDelay,1e3/this.state.rateHz)}},{key:"shouldComponentUpdate",value:function(e,t){return t.render_revision!==this.state.render_revision}},{key:"render",value:function(){var e=this,t=this.props.classes;return Object(n.jsx)(s.Fragment,{children:Object(n.jsxs)(Fe.a,{theme:Be,children:[Object(n.jsx)(ve,{ws_url:this.state.ws_url,messageProcess:this.messageProcess,ref:this.wshelper,status:function(t){return e.ws_status=t}}),Object(n.jsx)(Oe.a,{position:"sticky",color:"inherit",children:Object(n.jsxs)(ye.a,{children:[Object(n.jsxs)(_e.a,{className:t.mainTabs,value:this.state.selectedTab,onChange:function(t,a){return e.setState({selectedTab:a})},indicatorColor:"secondary",textColor:"primary",variant:"scrollable",scrollButtons:"auto","aria-label":"Plugins tabs",children:[Object(n.jsx)(Se.a,Object(l.a)({label:"Dashboard",disabled:!0},this.a11yProps(0))),Object(n.jsx)(Se.a,Object(l.a)({label:"Graphs"},this.a11yProps(1))),Object(n.jsx)(Se.a,Object(l.a)({label:"Joystick"},this.a11yProps(2))),Object(n.jsx)(Se.a,Object(l.a)({label:"OP Edit",disabled:!0},this.a11yProps(3))),Object(n.jsx)(Se.a,Object(l.a)({label:"CAN BUS",disabled:!0},this.a11yProps(4)))]}),Object(n.jsx)(we.a,{className:t.iconSpaced,children:Object(n.jsx)(ke.a,{anchorOrigin:{vertical:"top",horizontal:"right"},badgeContent:this.received_count,color:"secondary",showZero:!0,max:9999,children:Object(n.jsx)(Pe.a,{color:"inherit"})})}),Object(n.jsx)(we.a,{className:t.iconSpaced,children:Object(n.jsx)(ke.a,{anchorOrigin:{vertical:"top",horizontal:"right"},badgeContent:this.sent_count,color:"secondary",showZero:!0,max:9999,children:Object(n.jsx)(Me.a,{color:"inherit"})})}),this.connectionStatus(),Object(n.jsx)(Le.a,{onClick:function(){e.setState({show_mainsettings:!0})},"aria-label":"WebSocket connection status",component:"span",color:"inherit",children:Object(n.jsx)(ae.a,{})})]})}),Object(n.jsx)(ge,{value:this.state.selectedTab,index:0,children:"Dashboard will be here"}),Object(n.jsx)(ge,{value:this.state.selectedTab,index:1,children:Object(n.jsx)(le,{ref:this.pushgraphdata})}),Object(n.jsx)(ge,{value:this.state.selectedTab,index:2,children:Object(n.jsx)(me,{procData:function(t){return e.sendWSmsg(t)}})}),Object(n.jsx)(ge,{value:this.state.selectedTab,index:3,children:"OP_Edit will be here"}),Object(n.jsx)(ge,{value:this.state.selectedTab,index:4,children:"CAN messages will be here"}),this.state.show_mainsettings?Object(n.jsx)(xe,{setSettings:function(t,a){return e.setState({show_mainsettings:!1,ws_url:t,rateHz:a})},show:this.state.show_mainsettings,ws_url:this.state.ws_url,rateHz:this.state.rateHz}):null]})})}}]),a}(s.Component),Ve=Object(Y.a)({iconSpaced:{padding:"0 40px 0 0"},mainTabs:{flexGrow:1}})(Je);o.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(Ve,{})}),document.getElementById("root"))}},[[124,1,2]]]);
//# sourceMappingURL=main.d1079879.chunk.js.map